
> mb-bot@1.0.0 start
> concurrently --kill-others "npm:live" "npm:dashboard"

[live] 
[live] > mb-bot@1.0.0 live
[live] > SIMULATE=false node bot.js
[live] 
[dashboard] 
[dashboard] > mb-bot@1.0.0 dashboard
[dashboard] > node dashboard.js
[dashboard] 
[live] 22:19:31.669 [INFO]   [Bot] Inicializando bot... 
[live] 22:19:31.672 [INFO]   [Bot] Inicializando banco de dados... 
[live] 22:19:31.717 [SUCCESS] [DB] Banco de dados inicializado com sucesso. 
[live] 22:19:31.719 [SUCCESS] [Bot] Banco de dados inicializado. 
[live] 22:19:31.738 [INFO]   [Bot] Autenticando Mercado Bitcoin... 
[live] 2026-01-12T22:19:31.760Z [INFO]   API_KEY: bdb29a91...
[live] 2026-01-12T22:19:31.760Z [INFO]   API_SECRET: e14075f1...
[live] 2026-01-12T22:19:33.281Z [INFO]   Account ID: f02d1506...
[live] 2026-01-12T22:19:33.281Z [INFO]   Access Token: eyJhbGci...
[live] 2026-01-12T22:19:33.281Z [SUCCESS] Authentication OK - Token expires in 59 minutes
[live] 22:19:33.281 [SUCCESS] [Bot] Autenticado com sucesso. 
[live] 22:19:33.284 [INFO]   [Bot] Iniciando warmup com velas históricas para evitar decisões ruins iniciais. 
[live] 22:19:33.476 [INFO]   [Bot] Buscadas 80 velas históricas válidas. 
[live] 22:19:33.480 [SUCCESS] [Bot] Warmup completo com 60 velas históricas. 
[live] 22:19:33.504 [INFO]   [Bot] Carregando fills históricos... 
[live] 22:19:33.530 [INFO]   [DB] Carregados 0 fills históricos. 
[live] 22:19:33.558 [SUCCESS] [Bot] Carregados 0 fills históricos. 
[live] 22:19:33.580 [INFO]   [Bot] Iniciando loop principal. 
[live] 22:19:33.602 [INFO]   [Bot] Iniciando ciclo 1. 
[live] 22:19:33.619 [INFO]   [Bot] Consultando tendências externas do Bitcoin... 
[live] 22:19:33 [TREND INFO] Iniciando análise de tendência externa... 
[dashboard] 22:19:33.838 [SUCCESS] [DB] Banco de dados inicializado com sucesso. 
[dashboard] 22:19:33.846 [INFO]   [DB] Carregados 0 fills históricos. 
[dashboard] [22:19:33] [DASHBOARD INFO] Carregados 0 fills históricos do banco de dados. 
[dashboard] [22:19:33] [DASHBOARD INFO] Loaded PNL history with 168 points from /mnt/c/PROJETOS_PESSOAIS/mb-bot/pnl_history.json 
[dashboard] node:events:502
[dashboard]       throw er; // Unhandled 'error' event
[dashboard]       ^
[dashboard] 
[dashboard] Error: listen EADDRINUSE: address already in use 0.0.0.0:3001
[dashboard]     at Server.setupListenHandle [as _listen2] (node:net:1908:16)
[dashboard]     at listenInCluster (node:net:1965:12)
[dashboard]     at doListen (node:net:2139:7)
[dashboard]     at process.processTicksAndRejections (node:internal/process/task_queues:83:21)
[dashboard] Emitted 'error' event on Server instance at:
[dashboard]     at emitErrorNT (node:net:1944:8)
[dashboard]     at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
[dashboard]   code: 'EADDRINUSE',
[dashboard]   errno: -98,
[dashboard]   syscall: 'listen',
[dashboard]   address: '0.0.0.0',
[dashboard]   port: 3001
[dashboard] }
[dashboard] 
[dashboard] Node.js v20.19.5
[dashboard] npm run dashboard exited with code 1
--> Sending SIGTERM to other processes..
[live] npm run live exited with code SIGTERM
